## 网络的四成模型

1. 第四层   应用层   Https,http，telenet

2. 第三层   传输层   TCP、UDP

3. 第二层   网间层   IP/ICMP

4. 第一层   网络接口  ARP/RARP



## 网络的七成模型

1. 第一层  物理层
2. 第二层  数据链路层
3. 第三层  网络层
4. 第四层  传输层
5. 第五层  会话层
6. 第六层  表示层
7. 第七层  应用层

##  Https 采用的是混合加密

### http 
1. 客户端 --> 服务器
    * 支持的协议版本，比如 TLS 1.0
    * 支持的加密方法，比如RSA公钥加密
    * 支持压缩方法
    * 一个客户端生成随机数，稍后用于生成“对话密钥”（*）

2. 服务器-->客户端
   ##### 确认使用的协议信息：
   * 确认使用的协议版本，如果不符合就关闭通信
   * 确认使用的加密方法
   * 服务器证书（包含给客户端使用的公钥） （*）
   * 一个服务器生成的随机数，稍后用于生成“对话密钥”（*）

 3. 客户端--> 服务器
    * 一个客户生成的随机数。该随机数用服务器公钥加密，防止被窃听（*）
    * 编码改变通知，表示随后的信息都将用双方商定的加密方法和密钥发送
    * 客户端握手结束通知，表示客户端的握手阶段已经结束。这一项同时也是前面发送的所有内容的hash值，用来供服务器验证

 4. 服务器--> 客户端
    * 编码改变通知，表示随后的信息都将用双方商定的加密方式和密钥发送
    * 服务器握手结束通知，表示服务器的握手阶段已经结束。这一项同时也是前面发送的所有内容的hash值，用来服务器效验


这里有需要注意的几点：

* 服务器提供给客户端的证书中包含公钥。对于非对称加密RSA来说，（*对于公钥加密的内容，只有私有才能解密*）
* 证书是分级的，称为证书链。下一级证书的摘要由上一级证书的私钥签名。*签名和加密不一样，签名是要用私钥签，用公钥验证，刚好相反* 当需要验证下一级的证书是否可靠的时候，我们用上一级证书提供的公钥对签名的摘要和我们自己计算出来的下一级证书摘要进行对比，如果完全一致，就说明下一级证书是可靠的，从而完成验证








     

   










 
